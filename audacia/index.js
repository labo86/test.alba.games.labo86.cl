/*! For license information please see index.js.LICENSE.txt */
var Audacia;(()=>{var e={196:(e,t,n)=>{var o;!function(){"use strict";var a=function(){this.init()};a.prototype={init:function(){var e=this||r;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||r;if(e=parseFloat(e),t.ctx||h(),void 0!==e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,r.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var o=t._howls[n]._getSoundIds(),a=0;a<o.length;a++){var i=t._howls[n]._soundById(o[a]);i&&i._node&&(i._node.volume=i._volume*e)}return t}return t._volume},mute:function(e){var t=this||r;t.ctx||h(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,r.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var o=t._howls[n]._getSoundIds(),a=0;a<o.length;a++){var i=t._howls[n]._soundById(o[a]);i&&i._node&&(i._node.muted=!!e||i._muted)}return t},stop:function(){for(var e=this||r,t=0;t<e._howls.length;t++)e._howls[t].stop();return e},unload:function(){for(var e=this||r,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,h()),e},codecs:function(e){return(this||r)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||r;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{(new Audio).muted&&(e.noAudio=!0)}catch(e){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||r,t=null;try{t="undefined"!=typeof Audio?new Audio:null}catch(t){return e}if(!t||"function"!=typeof t.canPlayType)return e;var n=t.canPlayType("audio/mpeg;").replace(/^no$/,""),o=e._navigator?e._navigator.userAgent:"",a=o.match(/OPR\/(\d+)/g),i=a&&parseInt(a[0].split("/")[1],10)<33,s=-1!==o.indexOf("Safari")&&-1===o.indexOf("Chrome"),u=o.match(/Version\/(.*?) /),c=s&&u&&parseInt(u[1],10)<15;return e._codecs={mp3:!(i||!n&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(t.canPlayType('audio/wav; codecs="1"')||t.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(t.canPlayType("audio/x-m4b;")||t.canPlayType("audio/m4b;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(c||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(c||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||r;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function(n){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var o=new Audio;o._unlocked=!0,e._releaseHtml5Audio(o)}catch(n){e.noAudio=!0;break}for(var a=0;a<e._howls.length;a++)if(!e._howls[a]._webAudio)for(var r=e._howls[a]._getSoundIds(),i=0;i<r.length;i++){var s=e._howls[a]._soundById(r[i]);s&&s._node&&!s._node._unlocked&&(s._node._unlocked=!0,s._node.load())}e._autoResume();var u=e.ctx.createBufferSource();u.buffer=e._scratchBuffer,u.connect(e.ctx.destination),void 0===u.start?u.noteOn(0):u.start(0),"function"==typeof e.ctx.resume&&e.ctx.resume(),u.onended=function(){u.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0),document.removeEventListener("keydown",t,!0);for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),document.addEventListener("keydown",t,!0),e}},_obtainHtml5Audio:function(){var e=this||r;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=(new Audio).play();return t&&"undefined"!=typeof Promise&&(t instanceof Promise||"function"==typeof t.then)&&t.catch((function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")})),new Audio},_releaseHtml5Audio:function(e){var t=this||r;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&r.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout((function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var t=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(t,t)}}),3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&r.usingWebAudio)return"running"===e.state&&"interrupted"!==e.ctx.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state||"running"===e.state&&"interrupted"===e.ctx.state?(e.ctx.resume().then((function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")})),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var r=new a,i=function(e){e.src&&0!==e.src.length?this.init(e):console.error("An array of source files must be passed with any new Howl.")};i.prototype={init:function(e){var t=this;return r.ctx||h(),t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!=typeof e.preload&&"metadata"!==e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:!(!e.xhr||!e.xhr.withCredentials)&&e.xhr.withCredentials},t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=r.usingWebAudio&&!t._html5,void 0!==r.ctx&&r.ctx&&r.autoUnlock&&r._unlockAudio(),r._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&"none"!==t._preload&&t.load(),t},load:function(){var e=this,t=null;if(r.noAudio)e._emit("loaderror",null,"No audio support.");else{"string"==typeof e._src&&(e._src=[e._src]);for(var n=0;n<e._src.length;n++){var o,a;if(e._format&&e._format[n])o=e._format[n];else{if("string"!=typeof(a=e._src[n])){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(o=/^data:audio\/([^;,]+);/i.exec(a))||(o=/\.([^.]+)$/.exec(a.split("?",1)[0])),o&&(o=o[1].toLowerCase())}if(o||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),o&&r.codecs(o)){t=e._src[n];break}}if(t)return e._src=t,e._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new s(e),e._webAudio&&c(e),e;e._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(e,t){var n=this,o=null;if("number"==typeof e)o=e,e=null;else{if("string"==typeof e&&"loaded"===n._state&&!n._sprite[e])return null;if(void 0===e&&(e="__default",!n._playLock)){for(var a=0,i=0;i<n._sounds.length;i++)n._sounds[i]._paused&&!n._sounds[i]._ended&&(a++,o=n._sounds[i]._id);1===a?e=null:o=null}}var s=o?n._soundById(o):n._inactiveSound();if(!s)return null;if(o&&!e&&(e=s._sprite||"__default"),"loaded"!==n._state){s._sprite=e,s._ended=!1;var u=s._id;return n._queue.push({event:"play",action:function(){n.play(u)}}),u}if(o&&!s._paused)return t||n._loadQueue("play"),s._id;n._webAudio&&r._autoResume();var c=Math.max(0,s._seek>0?s._seek:n._sprite[e][0]/1e3),d=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-c),l=1e3*d/Math.abs(s._rate),p=n._sprite[e][0]/1e3,h=(n._sprite[e][0]+n._sprite[e][1])/1e3;s._sprite=e,s._ended=!1;var f=function(){s._paused=!1,s._seek=c,s._start=p,s._stop=h,s._loop=!(!s._loop&&!n._sprite[e][2])};if(!(c>=h)){var _=s._node;if(n._webAudio){var m=function(){n._playLock=!1,f(),n._refreshBuffer(s);var e=s._muted||n._muted?0:s._volume;_.gain.setValueAtTime(e,r.ctx.currentTime),s._playStart=r.ctx.currentTime,void 0===_.bufferSource.start?s._loop?_.bufferSource.noteGrainOn(0,c,86400):_.bufferSource.noteGrainOn(0,c,d):s._loop?_.bufferSource.start(0,c,86400):_.bufferSource.start(0,c,d),l!==1/0&&(n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),l)),t||setTimeout((function(){n._emit("play",s._id),n._loadQueue()}),0)};"running"===r.state&&"interrupted"!==r.ctx.state?m():(n._playLock=!0,n.once("resume",m),n._clearTimer(s._id))}else{var g=function(){_.currentTime=c,_.muted=s._muted||n._muted||r._muted||_.muted,_.volume=s._volume*r.volume(),_.playbackRate=s._rate;try{var o=_.play();if(o&&"undefined"!=typeof Promise&&(o instanceof Promise||"function"==typeof o.then)?(n._playLock=!0,f(),o.then((function(){n._playLock=!1,_._unlocked=!0,t?n._loadQueue():n._emit("play",s._id)})).catch((function(){n._playLock=!1,n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),s._ended=!0,s._paused=!0}))):t||(n._playLock=!1,f(),n._emit("play",s._id)),_.playbackRate=s._rate,_.paused)return void n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||s._loop?n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),l):(n._endTimers[s._id]=function(){n._ended(s),_.removeEventListener("ended",n._endTimers[s._id],!1)},_.addEventListener("ended",n._endTimers[s._id],!1))}catch(e){n._emit("playerror",s._id,e)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===_.src&&(_.src=n._src,_.load());var v=window&&window.ejecta||!_.readyState&&r._navigator.isCocoonJS;if(_.readyState>=3||v)g();else{n._playLock=!0,n._state="loading";var y=function(){n._state="loaded",g(),_.removeEventListener(r._canPlayEvent,y,!1)};_.addEventListener(r._canPlayEvent,y,!1),n._clearTimer(s._id)}}return s._id}n._ended(s)},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),o=0;o<n.length;o++){t._clearTimer(n[o]);var a=t._soundById(n[o]);if(a&&!a._paused&&(a._seek=t.seek(n[o]),a._rateSeek=0,a._paused=!0,t._stopFade(n[o]),a._node))if(t._webAudio){if(!a._node.bufferSource)continue;void 0===a._node.bufferSource.stop?a._node.bufferSource.noteOff(0):a._node.bufferSource.stop(0),t._cleanBuffer(a._node)}else isNaN(a._node.duration)&&a._node.duration!==1/0||a._node.pause();arguments[1]||t._emit("pause",a?a._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var o=n._getSoundIds(e),a=0;a<o.length;a++){n._clearTimer(o[a]);var r=n._soundById(o[a]);r&&(r._seek=r._start||0,r._rateSeek=0,r._paused=!0,r._ended=!0,n._stopFade(o[a]),r._node&&(n._webAudio?r._node.bufferSource&&(void 0===r._node.bufferSource.stop?r._node.bufferSource.noteOff(0):r._node.bufferSource.stop(0),n._cleanBuffer(r._node)):isNaN(r._node.duration)&&r._node.duration!==1/0||(r._node.currentTime=r._start||0,r._node.pause(),r._node.duration===1/0&&n._clearSound(r._node))),t||n._emit("stop",r._id))}return n},mute:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if(void 0===t){if("boolean"!=typeof e)return n._muted;n._muted=e}for(var o=n._getSoundIds(t),a=0;a<o.length;a++){var i=n._soundById(o[a]);i&&(i._muted=e,i._interval&&n._stopFade(i._id),n._webAudio&&i._node?i._node.gain.setValueAtTime(e?0:i._volume,r.ctx.currentTime):i._node&&(i._node.muted=!!r._muted||e),n._emit("mute",i._id))}return n},volume:function(){var e,t,n,o=this,a=arguments;if(0===a.length)return o._volume;if(1===a.length||2===a.length&&void 0===a[1]?o._getSoundIds().indexOf(a[0])>=0?t=parseInt(a[0],10):e=parseFloat(a[0]):a.length>=2&&(e=parseFloat(a[0]),t=parseInt(a[1],10)),!(void 0!==e&&e>=0&&e<=1))return(n=t?o._soundById(t):o._sounds[0])?n._volume:0;if("loaded"!==o._state||o._playLock)return o._queue.push({event:"volume",action:function(){o.volume.apply(o,a)}}),o;void 0===t&&(o._volume=e),t=o._getSoundIds(t);for(var i=0;i<t.length;i++)(n=o._soundById(t[i]))&&(n._volume=e,a[2]||o._stopFade(t[i]),o._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(e,r.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=e*r.volume()),o._emit("volume",n._id));return o},fade:function(e,t,n,o){var a=this;if("loaded"!==a._state||a._playLock)return a._queue.push({event:"fade",action:function(){a.fade(e,t,n,o)}}),a;e=Math.min(Math.max(0,parseFloat(e)),1),t=Math.min(Math.max(0,parseFloat(t)),1),n=parseFloat(n),a.volume(e,o);for(var i=a._getSoundIds(o),s=0;s<i.length;s++){var u=a._soundById(i[s]);if(u){if(o||a._stopFade(i[s]),a._webAudio&&!u._muted){var c=r.ctx.currentTime,d=c+n/1e3;u._volume=e,u._node.gain.setValueAtTime(e,c),u._node.gain.linearRampToValueAtTime(t,d)}a._startFadeInterval(u,e,t,n,i[s],void 0===o)}}return a},_startFadeInterval:function(e,t,n,o,a,r){var i=this,s=t,u=n-t,c=Math.abs(u/.01),d=Math.max(4,c>0?o/c:o),l=Date.now();e._fadeTo=n,e._interval=setInterval((function(){var a=(Date.now()-l)/o;l=Date.now(),s+=u*a,s=Math.round(100*s)/100,s=u<0?Math.max(n,s):Math.min(n,s),i._webAudio?e._volume=s:i.volume(s,e._id,!0),r&&(i._volume=s),(n<t&&s<=n||n>t&&s>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,i.volume(n,e._id),i._emit("fade",e._id))}),d)},_stopFade:function(e){var t=this,n=t._soundById(e);return n&&n._interval&&(t._webAudio&&n._node.gain.cancelScheduledValues(r.ctx.currentTime),clearInterval(n._interval),n._interval=null,t.volume(n._fadeTo,e),n._fadeTo=null,t._emit("fade",e)),t},loop:function(){var e,t,n,o=this,a=arguments;if(0===a.length)return o._loop;if(1===a.length){if("boolean"!=typeof a[0])return!!(n=o._soundById(parseInt(a[0],10)))&&n._loop;e=a[0],o._loop=e}else 2===a.length&&(e=a[0],t=parseInt(a[1],10));for(var r=o._getSoundIds(t),i=0;i<r.length;i++)(n=o._soundById(r[i]))&&(n._loop=e,o._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop,o.playing(r[i])&&(o.pause(r[i],!0),o.play(r[i],!0)))));return o},rate:function(){var e,t,n,o=this,a=arguments;if(0===a.length?t=o._sounds[0]._id:1===a.length?o._getSoundIds().indexOf(a[0])>=0?t=parseInt(a[0],10):e=parseFloat(a[0]):2===a.length&&(e=parseFloat(a[0]),t=parseInt(a[1],10)),"number"!=typeof e)return(n=o._soundById(t))?n._rate:o._rate;if("loaded"!==o._state||o._playLock)return o._queue.push({event:"rate",action:function(){o.rate.apply(o,a)}}),o;void 0===t&&(o._rate=e),t=o._getSoundIds(t);for(var i=0;i<t.length;i++)if(n=o._soundById(t[i])){o.playing(t[i])&&(n._rateSeek=o.seek(t[i]),n._playStart=o._webAudio?r.ctx.currentTime:n._playStart),n._rate=e,o._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(e,r.ctx.currentTime):n._node&&(n._node.playbackRate=e);var s=o.seek(t[i]),u=1e3*((o._sprite[n._sprite][0]+o._sprite[n._sprite][1])/1e3-s)/Math.abs(n._rate);!o._endTimers[t[i]]&&n._paused||(o._clearTimer(t[i]),o._endTimers[t[i]]=setTimeout(o._ended.bind(o,n),u)),o._emit("rate",n._id)}return o},seek:function(){var e,t,n=this,o=arguments;if(0===o.length?n._sounds.length&&(t=n._sounds[0]._id):1===o.length?n._getSoundIds().indexOf(o[0])>=0?t=parseInt(o[0],10):n._sounds.length&&(t=n._sounds[0]._id,e=parseFloat(o[0])):2===o.length&&(e=parseFloat(o[0]),t=parseInt(o[1],10)),void 0===t)return 0;if("number"==typeof e&&("loaded"!==n._state||n._playLock))return n._queue.push({event:"seek",action:function(){n.seek.apply(n,o)}}),n;var a=n._soundById(t);if(a){if(!("number"==typeof e&&e>=0)){if(n._webAudio){var i=n.playing(t)?r.ctx.currentTime-a._playStart:0,s=a._rateSeek?a._rateSeek-a._seek:0;return a._seek+(s+i*Math.abs(a._rate))}return a._node.currentTime}var u=n.playing(t);u&&n.pause(t,!0),a._seek=e,a._ended=!1,n._clearTimer(t),n._webAudio||!a._node||isNaN(a._node.duration)||(a._node.currentTime=e);var c=function(){u&&n.play(t,!0),n._emit("seek",t)};if(u&&!n._webAudio){var d=function(){n._playLock?setTimeout(d,0):c()};setTimeout(d,0)}else c()}return n},playing:function(e){var t=this;if("number"==typeof e){var n=t._soundById(e);return!!n&&!n._paused}for(var o=0;o<t._sounds.length;o++)if(!t._sounds[o]._paused)return!0;return!1},duration:function(e){var t=this,n=t._duration,o=t._soundById(e);return o&&(n=t._sprite[o._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++)t[n]._paused||e.stop(t[n]._id),e._webAudio||(e._clearSound(t[n]._node),t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(r._canPlayEvent,t[n]._loadFn,!1),t[n]._node.removeEventListener("ended",t[n]._endFn,!1),r._releaseHtml5Audio(t[n]._node)),delete t[n]._node,e._clearTimer(t[n]._id);var o=r._howls.indexOf(e);o>=0&&r._howls.splice(o,1);var a=!0;for(n=0;n<r._howls.length;n++)if(r._howls[n]._src===e._src||e._src.indexOf(r._howls[n]._src)>=0){a=!1;break}return u&&a&&delete u[e._src],r.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,o){var a=this["_on"+e];return"function"==typeof t&&a.push(o?{id:n,fn:t,once:o}:{id:n,fn:t}),this},off:function(e,t,n){var o=this,a=o["_on"+e],r=0;if("number"==typeof t&&(n=t,t=null),t||n)for(r=0;r<a.length;r++){var i=n===a[r].id;if(t===a[r].fn&&i||!t&&i){a.splice(r,1);break}}else if(e)o["_on"+e]=[];else{var s=Object.keys(o);for(r=0;r<s.length;r++)0===s[r].indexOf("_on")&&Array.isArray(o[s[r]])&&(o[s[r]]=[])}return o},once:function(e,t,n){return this.on(e,t,n,1),this},_emit:function(e,t,n){for(var o=this,a=o["_on"+e],r=a.length-1;r>=0;r--)a[r].id&&a[r].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(o,a[r].fn),0),a[r].once&&o.off(e,a[r].fn,a[r].id));return o._loadQueue(e),o},_loadQueue:function(e){var t=this;if(t._queue.length>0){var n=t._queue[0];n.event===e&&(t._queue.shift(),t._loadQueue()),e||n.action()}return t},_ended:function(e){var t=this,n=e._sprite;if(!t._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(t._ended.bind(t,e),100),t;var o=!(!e._loop&&!t._sprite[n][2]);if(t._emit("end",e._id),!t._webAudio&&o&&t.stop(e._id,!0).play(e._id),t._webAudio&&o){t._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=r.ctx.currentTime;var a=1e3*(e._stop-e._start)/Math.abs(e._rate);t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),a)}return t._webAudio&&!o&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,t._clearTimer(e._id),t._cleanBuffer(e._node),r._autoSuspend()),t._webAudio||o||t.stop(e._id,!0),t},_clearTimer:function(e){var t=this;if(t._endTimers[e]){if("function"!=typeof t._endTimers[e])clearTimeout(t._endTimers[e]);else{var n=t._soundById(e);n&&n._node&&n._node.removeEventListener("ended",t._endTimers[e],!1)}delete t._endTimers[e]}return t},_soundById:function(e){for(var t=this,n=0;n<t._sounds.length;n++)if(e===t._sounds[n]._id)return t._sounds[n];return null},_inactiveSound:function(){var e=this;e._drain();for(var t=0;t<e._sounds.length;t++)if(e._sounds[t]._ended)return e._sounds[t].reset();return new s(e)},_drain:function(){var e=this,t=e._pool,n=0,o=0;if(!(e._sounds.length<t)){for(o=0;o<e._sounds.length;o++)e._sounds[o]._ended&&n++;for(o=e._sounds.length-1;o>=0;o--){if(n<=t)return;e._sounds[o]._ended&&(e._webAudio&&e._sounds[o]._node&&e._sounds[o]._node.disconnect(0),e._sounds.splice(o,1),n--)}}},_getSoundIds:function(e){if(void 0===e){for(var t=[],n=0;n<this._sounds.length;n++)t.push(this._sounds[n]._id);return t}return[e]},_refreshBuffer:function(e){return e._node.bufferSource=r.ctx.createBufferSource(),e._node.bufferSource.buffer=u[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,r.ctx.currentTime),this},_cleanBuffer:function(e){var t=r._navigator&&r._navigator.vendor.indexOf("Apple")>=0;if(!e.bufferSource)return this;if(r._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=r._scratchBuffer}catch(e){}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(r._navigator&&r._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var s=function(e){this._parent=e,this.init()};s.prototype={init:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++r._counter,t._sounds.push(e),e.create(),e},create:function(){var e=this,t=e._parent,n=r._muted||e._muted||e._parent._muted?0:e._volume;return t._webAudio?(e._node=void 0===r.ctx.createGain?r.ctx.createGainNode():r.ctx.createGain(),e._node.gain.setValueAtTime(n,r.ctx.currentTime),e._node.paused=!0,e._node.connect(r.masterGain)):r.noAudio||(e._node=r._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(r._canPlayEvent,e._loadFn,!1),e._endFn=e._endListener.bind(e),e._node.addEventListener("ended",e._endFn,!1),e._node.src=t._src,e._node.preload=!0===t._preload?"auto":t._preload,e._node.volume=n*r.volume(),e._node.load()),e},reset:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++r._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,t=e._parent;t._duration=Math.ceil(10*e._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),e._node.removeEventListener(r._canPlayEvent,e._loadFn,!1)},_endListener:function(){var e=this,t=e._parent;t._duration===1/0&&(t._duration=Math.ceil(10*e._node.duration)/10,t._sprite.__default[1]===1/0&&(t._sprite.__default[1]=1e3*t._duration),t._ended(e)),e._node.removeEventListener("ended",e._endFn,!1)}};var u={},c=function(e){var t=e._src;if(u[t])return e._duration=u[t].duration,void p(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),o=new Uint8Array(n.length),a=0;a<n.length;++a)o[a]=n.charCodeAt(a);l(o.buffer,e)}else{var r=new XMLHttpRequest;r.open(e._xhr.method,t,!0),r.withCredentials=e._xhr.withCredentials,r.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach((function(t){r.setRequestHeader(t,e._xhr.headers[t])})),r.onload=function(){var t=(r.status+"")[0];"0"===t||"2"===t||"3"===t?l(r.response,e):e._emit("loaderror",null,"Failed loading audio file with status: "+r.status+".")},r.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete u[t],e.load())},d(r)}},d=function(e){try{e.send()}catch(t){e.onerror()}},l=function(e,t){var n=function(){t._emit("loaderror",null,"Decoding audio data failed.")},o=function(e){e&&t._sounds.length>0?(u[t._src]=e,p(t,e)):n()};"undefined"!=typeof Promise&&1===r.ctx.decodeAudioData.length?r.ctx.decodeAudioData(e).then(o).catch(n):r.ctx.decodeAudioData(e,o,n)},p=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},h=function(){if(r.usingWebAudio){try{"undefined"!=typeof AudioContext?r.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?r.ctx=new webkitAudioContext:r.usingWebAudio=!1}catch(e){r.usingWebAudio=!1}r.ctx||(r.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(r._navigator&&r._navigator.platform),t=r._navigator&&r._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=t?parseInt(t[1],10):null;if(e&&n&&n<9){var o=/safari/.test(r._navigator&&r._navigator.userAgent.toLowerCase());r._navigator&&!o&&(r.usingWebAudio=!1)}r.usingWebAudio&&(r.masterGain=void 0===r.ctx.createGain?r.ctx.createGainNode():r.ctx.createGain(),r.masterGain.gain.setValueAtTime(r._muted?0:r._volume,r.ctx.currentTime),r.masterGain.connect(r.ctx.destination)),r._setup()}};void 0===(o=function(){return{Howler:r,Howl:i}}.apply(t,[]))||(e.exports=o),t.Howler=r,t.Howl=i,void 0!==n.g?(n.g.HowlerGlobal=a,n.g.Howler=r,n.g.Howl=i,n.g.Sound=s):"undefined"!=typeof window&&(window.HowlerGlobal=a,window.Howler=r,window.Howl=i,window.Sound=s)}(),function(){"use strict";var e;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var t=this;if(!t.ctx||!t.ctx.listener)return t;for(var n=t._howls.length-1;n>=0;n--)t._howls[n].stereo(e);return t},HowlerGlobal.prototype.pos=function(e,t,n){var o=this;return o.ctx&&o.ctx.listener?(t="number"!=typeof t?o._pos[1]:t,n="number"!=typeof n?o._pos[2]:n,"number"!=typeof e?o._pos:(o._pos=[e,t,n],void 0!==o.ctx.listener.positionX?(o.ctx.listener.positionX.setTargetAtTime(o._pos[0],Howler.ctx.currentTime,.1),o.ctx.listener.positionY.setTargetAtTime(o._pos[1],Howler.ctx.currentTime,.1),o.ctx.listener.positionZ.setTargetAtTime(o._pos[2],Howler.ctx.currentTime,.1)):o.ctx.listener.setPosition(o._pos[0],o._pos[1],o._pos[2]),o)):o},HowlerGlobal.prototype.orientation=function(e,t,n,o,a,r){var i=this;if(!i.ctx||!i.ctx.listener)return i;var s=i._orientation;return t="number"!=typeof t?s[1]:t,n="number"!=typeof n?s[2]:n,o="number"!=typeof o?s[3]:o,a="number"!=typeof a?s[4]:a,r="number"!=typeof r?s[5]:r,"number"!=typeof e?s:(i._orientation=[e,t,n,o,a,r],void 0!==i.ctx.listener.forwardX?(i.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),i.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),i.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),i.ctx.listener.upX.setTargetAtTime(o,Howler.ctx.currentTime,.1),i.ctx.listener.upY.setTargetAtTime(a,Howler.ctx.currentTime,.1),i.ctx.listener.upZ.setTargetAtTime(r,Howler.ctx.currentTime,.1)):i.ctx.listener.setOrientation(e,t,n,o,a,r),i)},Howl.prototype.init=(e=Howl.prototype.init,function(t){var n=this;return n._orientation=t.orientation||[1,0,0],n._stereo=t.stereo||null,n._pos=t.pos||null,n._pannerAttr={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:0,distanceModel:void 0!==t.distanceModel?t.distanceModel:"inverse",maxDistance:void 0!==t.maxDistance?t.maxDistance:1e4,panningModel:void 0!==t.panningModel?t.panningModel:"HRTF",refDistance:void 0!==t.refDistance?t.refDistance:1,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:1},n._onstereo=t.onstereo?[{fn:t.onstereo}]:[],n._onpos=t.onpos?[{fn:t.onpos}]:[],n._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}),Howl.prototype.stereo=function(e,n){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"stereo",action:function(){o.stereo(e,n)}}),o;var a=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===n){if("number"!=typeof e)return o._stereo;o._stereo=e,o._pos=[e,0,0]}for(var r=o._getSoundIds(n),i=0;i<r.length;i++){var s=o._soundById(r[i]);if(s){if("number"!=typeof e)return s._stereo;s._stereo=e,s._pos=[e,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",s._panner&&s._panner.pan||t(s,a),"spatial"===a?void 0!==s._panner.positionX?(s._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):s._panner.setPosition(e,0,0):s._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),o._emit("stereo",s._id)}}return o},Howl.prototype.pos=function(e,n,o,a){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"pos",action:function(){r.pos(e,n,o,a)}}),r;if(n="number"!=typeof n?0:n,o="number"!=typeof o?-.5:o,void 0===a){if("number"!=typeof e)return r._pos;r._pos=[e,n,o]}for(var i=r._getSoundIds(a),s=0;s<i.length;s++){var u=r._soundById(i[s]);if(u){if("number"!=typeof e)return u._pos;u._pos=[e,n,o],u._node&&(u._panner&&!u._panner.pan||t(u,"spatial"),void 0!==u._panner.positionX?(u._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):u._panner.setPosition(e,n,o)),r._emit("pos",u._id)}}return r},Howl.prototype.orientation=function(e,n,o,a){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"orientation",action:function(){r.orientation(e,n,o,a)}}),r;if(n="number"!=typeof n?r._orientation[1]:n,o="number"!=typeof o?r._orientation[2]:o,void 0===a){if("number"!=typeof e)return r._orientation;r._orientation=[e,n,o]}for(var i=r._getSoundIds(a),s=0;s<i.length;s++){var u=r._soundById(i[s]);if(u){if("number"!=typeof e)return u._orientation;u._orientation=[e,n,o],u._node&&(u._panner||(u._pos||(u._pos=r._pos||[0,0,-.5]),t(u,"spatial")),void 0!==u._panner.orientationX?(u._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),u._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):u._panner.setOrientation(e,n,o)),r._emit("orientation",u._id)}}return r},Howl.prototype.pannerAttr=function(){var e,n,o,a=this,r=arguments;if(!a._webAudio)return a;if(0===r.length)return a._pannerAttr;if(1===r.length){if("object"!=typeof r[0])return(o=a._soundById(parseInt(r[0],10)))?o._pannerAttr:a._pannerAttr;e=r[0],void 0===n&&(e.pannerAttr||(e.pannerAttr={coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor,panningModel:e.panningModel}),a._pannerAttr={coneInnerAngle:void 0!==e.pannerAttr.coneInnerAngle?e.pannerAttr.coneInnerAngle:a._coneInnerAngle,coneOuterAngle:void 0!==e.pannerAttr.coneOuterAngle?e.pannerAttr.coneOuterAngle:a._coneOuterAngle,coneOuterGain:void 0!==e.pannerAttr.coneOuterGain?e.pannerAttr.coneOuterGain:a._coneOuterGain,distanceModel:void 0!==e.pannerAttr.distanceModel?e.pannerAttr.distanceModel:a._distanceModel,maxDistance:void 0!==e.pannerAttr.maxDistance?e.pannerAttr.maxDistance:a._maxDistance,refDistance:void 0!==e.pannerAttr.refDistance?e.pannerAttr.refDistance:a._refDistance,rolloffFactor:void 0!==e.pannerAttr.rolloffFactor?e.pannerAttr.rolloffFactor:a._rolloffFactor,panningModel:void 0!==e.pannerAttr.panningModel?e.pannerAttr.panningModel:a._panningModel})}else 2===r.length&&(e=r[0],n=parseInt(r[1],10));for(var i=a._getSoundIds(n),s=0;s<i.length;s++)if(o=a._soundById(i[s])){var u=o._pannerAttr;u={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:u.coneInnerAngle,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:u.coneOuterAngle,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:u.coneOuterGain,distanceModel:void 0!==e.distanceModel?e.distanceModel:u.distanceModel,maxDistance:void 0!==e.maxDistance?e.maxDistance:u.maxDistance,refDistance:void 0!==e.refDistance?e.refDistance:u.refDistance,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:u.rolloffFactor,panningModel:void 0!==e.panningModel?e.panningModel:u.panningModel};var c=o._panner;c||(o._pos||(o._pos=a._pos||[0,0,-.5]),t(o,"spatial"),c=o._panner),c.coneInnerAngle=u.coneInnerAngle,c.coneOuterAngle=u.coneOuterAngle,c.coneOuterGain=u.coneOuterGain,c.distanceModel=u.distanceModel,c.maxDistance=u.maxDistance,c.refDistance=u.refDistance,c.rolloffFactor=u.rolloffFactor,c.panningModel=u.panningModel}return a},Sound.prototype.init=function(e){return function(){var t=this,n=t._parent;t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,e.call(this),t._stereo?n.stereo(t._stereo):t._pos&&n.pos(t._pos[0],t._pos[1],t._pos[2],t._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this,n=t._parent;return t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,t._stereo?n.stereo(t._stereo):t._pos?n.pos(t._pos[0],t._pos[1],t._pos[2],t._id):t._panner&&(t._panner.disconnect(0),t._panner=void 0,n._refreshBuffer(t)),e.call(this)}}(Sound.prototype.reset);var t=function(e,t){"spatial"===(t=t||"spatial")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,void 0!==e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),void 0!==e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}()},620:(e,t,n)=>{"use strict";e.exports=n.p+"audacia/resources/f85cfe9aed6864041586.png"},681:(e,t,n)=>{"use strict";e.exports=n.p+"audacia/resources/5d7d1adf64b1510c2ab8.png"},322:(e,t,n)=>{"use strict";e.exports=n.p+"audacia/resources/ec3e90bcbb040afe848e.png"},979:(e,t,n)=>{"use strict";e.exports=n.p+"audacia/resources/8c3841e6ea5446131bb1.png"},340:(e,t,n)=>{"use strict";e.exports=n.p+"audacia/resources/3699f2d742537336362e.png"},73:(e,t,n)=>{"use strict";e.exports=n.p+"audacia/resources/1f186d6720511a3f1a7e.png"},655:(e,t,n)=>{"use strict";e.exports=n.p+"audacia/resources/c18e0951ee13b7b5dc3e.png"},342:(e,t,n)=>{"use strict";e.exports=n.p+"audacia/resources/a7dacdfb4fc6e843c45b.png"},442:(e,t,n)=>{"use strict";e.exports=n.p+"audacia/resources/fb5d7a82ca31fec1a4b3.png"},859:(e,t,n)=>{"use strict";e.exports=n.p+"audacia/resources/bbc1e544c04abd92d665.png"},22:(e,t,n)=>{"use strict";e.exports=n.p+"audacia/resources/0d563c076d4b252bdee7.png"},828:(e,t,n)=>{"use strict";e.exports=n.p+"audacia/resources/ca4eaa14ddb940014e90.png"},680:(e,t,n)=>{"use strict";e.exports=n.p+"audacia/resources/a53419bbb15cc5a0db5b.png"},637:(e,t,n)=>{"use strict";e.exports=n.p+"audacia/resources/56ed44a09efc472a85b4.png"},493:(e,t,n)=>{"use strict";e.exports=n.p+"audacia/resources/fd86fe5e3b0b4795eb72.png"},251:(e,t,n)=>{"use strict";e.exports=n.p+"audacia/resources/b636318a08f2fe0905c9.png"},95:(e,t,n)=>{"use strict";e.exports=n.p+"audacia/resources/2a984c608886d27a5779.png"},105:(e,t,n)=>{"use strict";e.exports=n.p+"audacia/resources/0a267800e539252c69a5.png"},907:(e,t,n)=>{"use strict";e.exports=n.p+"audacia/resources/00cd209ed03f38ba6db9.png"},624:(e,t,n)=>{"use strict";e.exports=n.p+"audacia/resources/70ed7944f4a7805dacef.png"},716:(e,t,n)=>{"use strict";e.exports=n.p+"audacia/resources/0647a008b39426e99b03.png"},918:(e,t,n)=>{"use strict";e.exports=n.p+"audacia/resources/6db94c43df8120fdec78.png"},400:(e,t,n)=>{"use strict";e.exports=n.p+"audacia/resources/5fa4b86d58af487325ef.png"},55:(e,t,n)=>{"use strict";e.exports=n.p+"audacia/resources/a3dcc4a6ef2dee0789fe.png"},943:(e,t,n)=>{"use strict";e.exports=n.p+"audacia/resources/ace62ebcad01529d6f97.png"},457:(e,t,n)=>{"use strict";e.exports=n.p+"audacia/resources/ccabe55c114d987ef0ce.png"},336:(e,t,n)=>{"use strict";e.exports=n.p+"audacia/resources/cbf49edebced56da525b.png"},311:(e,t,n)=>{"use strict";e.exports=n.p+"audacia/resources/4dbe1aaa373b00e19223.png"},349:(e,t,n)=>{"use strict";e.exports=n.p+"audacia/resources/3522f945543ac9988ee2.png"},452:(e,t,n)=>{"use strict";e.exports=n.p+"audacia/resources/ea4b7eb4a2b9d0c75529.png"},570:(e,t,n)=>{"use strict";e.exports=n.p+"audacia/resources/d5eb95d79f2a82261e8a.png"},849:(e,t,n)=>{"use strict";e.exports=n.p+"audacia/resources/1980f6bb41572c34cd6f.png"},341:(e,t,n)=>{"use strict";e.exports=n.p+"audacia/resources/e86f016a7369f4ca1ca4.png"},672:(e,t,n)=>{"use strict";e.exports=n.p+"audacia/resources/edc4a72fdbf6bb99610b.png"},719:(e,t,n)=>{"use strict";e.exports=n.p+"audacia/resources/1777c91c68e7aff31ba1.ogg"},276:(e,t,n)=>{"use strict";e.exports=n.p+"audacia/resources/c15e0a22f2b5ed872f0b.ogg"},705:(e,t,n)=>{"use strict";e.exports=n.p+"audacia/resources/613a7fd40409f36fcfb6.ogg"},174:(e,t,n)=>{"use strict";e.exports=n.p+"audacia/resources/e00581f917b0af42fa52.ogg"},4:(e,t,n)=>{"use strict";e.exports=n.p+"audacia/resources/00c80aa5e920ea13a9aa.ogg"},830:(e,t,n)=>{"use strict";e.exports=n.p+"audacia/resources/2f7587cba11851fbc4d7.ogg"},209:(e,t,n)=>{"use strict";e.exports=n.p+"audacia/resources/9e149ee542de077219f4.ogg"},118:(e,t,n)=>{"use strict";e.exports=n.p+"audacia/resources/715bd12c822371dbf98a.ogg"},506:(e,t,n)=>{"use strict";e.exports=n.p+"audacia/resources/192ea7a1ea6e89248fd3.ogg"}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var o=t.getElementsByTagName("script");if(o.length)for(var a=o.length-1;a>-1&&(!e||!/^http(s?):/.test(e));)e=o[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e+"../"})();var o={};(()=>{"use strict";n.r(o),n.d(o,{Game:()=>P});var e=function(){function e(){this.currentTime=0,this.currentDistance=0,this.bestScore=0,this.currentScore=0}return e.prototype.updateDistanceByTimeElapsed=function(e){this.currentDistance+=e*(this.totalDistance/3e5)},e}(),t=function(){function e(){}return e.prototype.fromEventToCanvas=function(e,t){return{x:(e-this.eventOffsetX)/this.eventWidth*this.canvasWidth,y:(t-this.eventOffsetY)/this.eventHeight*this.canvasHeight}},e}(),a=4/3,r=640,i=function(){function e(e,n){this.backgroundColor="#000",this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.offsetX=0,this.offsetY=0,this.textColor="#FF0",this.positionNormalizer=new t,this.setSize(e,n)}return e.prototype.mount=function(e){e.appendChild(this.canvas)},e.prototype.unmount=function(){this.canvas.parentElement.removeChild(this.canvas)},e.prototype.clearScreen=function(){this.context.fillStyle=this.backgroundColor,this.context.globalAlpha=1,this.context.fillRect(0,0,this.canvas.width,this.canvas.height)},e.prototype.drawText=function(e,t,n){this.context.fillText(e,this.transformViewportToCanvas(t),this.transformViewportToCanvas(n))},e.prototype.drawImage=function(e,t,n,o,a){this.context.drawImage(e,this.transformViewportToCanvas(t),this.transformViewportToCanvas(n),this.transformViewportToCanvas(o),this.transformViewportToCanvas(a))},e.prototype.drawLine=function(e,t,n,o){this.context.beginPath(),this.context.setTransform(1,0,0,1,0,0),this.context.moveTo(e+this.offsetX,t+this.offsetY),this.context.lineTo(n+this.offsetX,o+this.offsetY),this.context.stroke()},e.prototype.drawDebugText=function(e,t,n){this.context.globalAlpha=1,this.context.fillStyle=this.textColor,this.context.textAlign="left",this.drawText(e,t,n)},e.prototype.drawDebugCross=function(e,t){this.context.strokeStyle="#FF0",this.context.beginPath(),this.context.moveTo(this.transformViewportToCanvas(e-10),this.transformViewportToCanvas(t)),this.context.lineTo(this.transformViewportToCanvas(e+10),this.transformViewportToCanvas(t)),this.context.moveTo(this.transformViewportToCanvas(e),this.transformViewportToCanvas(t-10)),this.context.lineTo(this.transformViewportToCanvas(e),this.transformViewportToCanvas(t+10)),this.context.stroke()},e.prototype.fromEventToCanvasPosition=function(e,t){var n=e-this.canvas.offsetLeft;n<0?n=0:n>this.canvas.width&&(n=this.canvas.width);var o=t-this.canvas.offsetTop;return o<0?o=0:o>this.canvas.height&&(o=this.canvas.height),{x:n,y:o}},e.prototype.fromCanvasToWorldPosition=function(e){return{x:e.x/this.ratio,y:e.y/this.ratio}},e.prototype.setSize=function(e,t){var n=t*a;e<n?(this.canvas.width=e,this.canvas.height=e/a):(this.canvas.width=n,this.canvas.height=t),this.positionNormalizer.canvasWidth=this.canvas.width,this.positionNormalizer.canvasHeight=this.canvas.height,this.offsetX=this.canvas.width/2,this.offsetY=this.canvas.height/2,this.ratio=this.canvas.width/r},e.prototype.transformViewportToCanvas=function(e){return this.ratio*e},e}(),s=function(){function e(){this.imageList={}}return e.prototype.loadImage=function(e,t){var n=new Image;n.src=t,this.imageList[e]=n},e.prototype.getImage=function(e){return this.imageList[e]},e}();const u=n.p+"audacia/resources/dfafdb7f310d624a88e5.woff2",c=n.p+"audacia/resources/24453e0457b1faca79bd.woff2";var d,l,p=(d=function(e,t){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},d(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}d(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),h=function(e){function t(t,n){var o=e.call(this,t,n)||this;o.backgroundColor="#000",o.textColor="#FFF",o.loadAssets(),o.waveState=[];for(var a=0;a<100;a++)o.waveState.push(0);for(o.wavePositionList=[],a=0;a<100;a+=20)o.wavePositionList.push(a);return o.previousUpdateTime=performance.now(),o}return p(t,e),t.prototype.loadAssets=function(){this.imageManager=new s,this.imageManager.loadImage("labo86logo",n(620)),this.imageManager.loadImage("title",n(672)),this.imageManager.loadImage("lander",n(55)),this.imageManager.loadImage("enemy1",n(655)),this.imageManager.loadImage("enemy2",n(342)),this.imageManager.loadImage("enemy3",n(442)),this.imageManager.loadImage("enemy4",n(859)),this.imageManager.loadImage("enemy5",n(22)),this.imageManager.loadImage("enemy6",n(828)),this.imageManager.loadImage("enemy7",n(680)),this.imageManager.loadImage("enemy8",n(637)),this.imageManager.loadImage("enemy9",n(493)),this.imageManager.loadImage("enemy10",n(251)),this.imageManager.loadImage("enemy11",n(95)),this.imageManager.loadImage("enemy12",n(105)),this.imageManager.loadImage("enemy13",n(907)),this.imageManager.loadImage("enemy14",n(624)),this.imageManager.loadImage("enemy15",n(716)),this.imageManager.loadImage("enemy16",n(918)),this.imageManager.loadImage("enemy17",n(400)),this.imageManager.loadImage("background_1",n(681)),this.imageManager.loadImage("background_2",n(322)),this.imageManager.loadImage("background_3",n(979)),this.imageManager.loadImage("background_4",n(340)),this.imageManager.loadImage("wall1",n(457)),this.imageManager.loadImage("wall2",n(336)),this.imageManager.loadImage("wall3",n(311)),this.imageManager.loadImage("wall4",n(349)),this.imageManager.loadImage("wall5",n(452)),this.imageManager.loadImage("wall6",n(570)),this.imageManager.loadImage("wall7",n(849)),this.imageManager.loadImage("wall8",n(341)),this.imageManager.loadImage("bottom",n(943)),this.imageManager.loadImage("explosion",n(73)),new FontFace("pixeloid-bold","url(".concat(u,")")).load().then((function(e){document.fonts.add(e)})).catch((function(e){console.log(e)})),new FontFace("pixeloid","url(".concat(c,")")).load().then((function(e){document.fonts.add(e)})).catch((function(e){console.log(e)}))},t.prototype.clearScreen=function(){this.context.imageSmoothingEnabled=!1,this.drawImage(this.imageManager.getImage(this.currentBackground),0,0,r,480)},t.prototype.waterEffect=function(){var e=this.transformViewportToCanvas(4.8),t=performance.now();if(t-this.previousUpdateTime>100){for(var n=0;n<this.wavePositionList.length;n++){var o=this.wavePositionList[n];this.waveState[o]=100;var a=(o+1)%this.waveState.length;this.wavePositionList[n]=a}this.previousUpdateTime=t}for(n=0;n<100;n++){var r=this.waveState[n];(r-=1)<0&&(r=0),this.waveState[n]=r;var i=.01*r*15;this.context.drawImage(this.canvas,0,n*e,this.canvas.width,e,-i,n*e,this.canvas.width+15,e)}},t.prototype.drawGameOverMessage=function(e,t,n,o){this.context.textAlign="center",this.setContextFontBold(40),this.drawText("Travesía finalizada",320,240),this.setContextFont(18),n?(this.drawText("Has llegado a lo más profundo de",320,280),this.drawText("la Fosa de Atacama",320,300)):(this.drawText("Intenta sumergirte aún más",320,280),this.drawText("la próxima vez",320,300)),this.setContextFontBold(25),this.drawText("Has investigado ".concat(t," especies"),320,350),this.setContextFont(20),o?this.drawText("Toca para continuar",320,400):this.drawText("Cargando...",320,400)},t.prototype.drawInfo=function(e,t){var n=e.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,".");this.context.globalAlpha=1,this.context.fillStyle=this.textColor,this.context.textAlign="center",this.setContextFont(15),this.drawText("Profundidad",320,25),this.setContextFontBold(25),this.drawText("".concat(n," m"),320,55),this.context.textAlign="center",this.setContextFont(15),this.drawText("Puntos",590,25),this.setContextFontBold(25),this.drawText("".concat(t),590,55);var o=function(e){if(e<200)return 20;if(e<1e3){var t=(e-200)/800;return 20-15*t+(1-Math.pow(2*t-1,2))}return 5*(1-(e-1e3)/1e4)}(e).toFixed(1),a=function(e){return 1+e/10}(e).toFixed(1);this.context.textAlign="left",this.setContextFont(15),this.drawText("Temp : ".concat(o," °C"),25,430),this.setContextFont(15),this.drawText("Presión : ".concat(a," atm"),25,455)},t.prototype.drawTitleInfo=function(){this.context.globalAlpha=1,this.context.fillStyle=this.textColor,this.context.textAlign="center",this.context.imageSmoothingEnabled=!1,this.drawCenteredImage("title",320,220,380),this.context.globalAlpha=1,this.context.fillStyle=this.textColor,this.context.textAlign="center",this.setContextFontBold(20),this.drawText("Toca para comenzar",320,340),this.context.imageSmoothingEnabled=!0,this.drawCenteredImage("labo86logo",320,410,60),this.context.textAlign="center",this.setContextFont(10),this.drawText("© 2024 Labo86 Spa",320,460)},t.prototype.drawCenteredImage=function(e,t,n,o,a){void 0===a&&(a=1),this.context.imageSmoothingEnabled=!1;var r=this.imageManager.getImage(e),i=this.transformViewportToCanvas(o),s=r.height*(i/r.width),u=this.context.getTransform();this.context.translate(this.transformViewportToCanvas(t),this.transformViewportToCanvas(n)),this.context.scale(a,1),this.context.drawImage(r,-i/2,-s/2,i,s),this.context.setTransform(u)},t.prototype.drawCenteredImageDistortion=function(e,t,n,o,a,r,i){void 0===a&&(a=1),void 0===r&&(r=1),void 0===i&&(i=1),this.context.imageSmoothingEnabled=!1;var s=this.imageManager.getImage(e),u=this.transformViewportToCanvas(o),c=s.height*(u/s.width),d=this.context.getTransform();this.context.translate(this.transformViewportToCanvas(t),this.transformViewportToCanvas(n)),this.context.scale(a,1),this.context.scale(r,i),this.context.drawImage(s,-u/2,-c/2,u,c),this.context.setTransform(d)},t.prototype.drawCursor=function(e,t){this.context.beginPath(),this.context.arc(this.transformViewportToCanvas(e),this.transformViewportToCanvas(t),this.transformViewportToCanvas(10),0,2*Math.PI,!1),this.context.lineWidth=3,this.context.strokeStyle="#00FF41",this.context.stroke(),this.context.beginPath(),this.context.moveTo(this.transformViewportToCanvas(e-15),this.transformViewportToCanvas(t)),this.context.lineTo(this.transformViewportToCanvas(e+15),this.transformViewportToCanvas(t)),this.context.moveTo(this.transformViewportToCanvas(e),this.transformViewportToCanvas(t-15)),this.context.lineTo(this.transformViewportToCanvas(e),this.transformViewportToCanvas(t+15)),this.context.stroke()},t.prototype.drawLander=function(e){this.drawCenteredImage("lander",e.position.x,e.position.y,60)},t.prototype.drawEnemy=function(e){var t=e.name;e.caught?this.context.globalAlpha=1:(this.context.globalAlpha=.5,this.context.filter="brightness(0) saturate(100%) invert(100%) sepia(42%) saturate(2381%) hue-rotate(258deg) brightness(100%) contrast(91%)",t=""),this.drawCenteredImageDistortion("enemy".concat(e.type),e.position.x,e.position.y,e.width,e.orientation,e.horizontalBoundScale(),e.verticalBoundScale()),this.context.filter="none",this.context.globalAlpha=1,e.isNearLander&&(this.context.textAlign="center",this.context.fillStyle=this.textColor,this.setContextFont(10),this.drawText(t,e.position.x,e.position.y-e.textOffsetY))},t.prototype.drawWall=function(e){this.drawCenteredImage("wall".concat(e.type),e.position.x,e.position.y,200,e.orientation)},t.prototype.setContextFontBold=function(e){this.context.font=this.transformViewportToCanvas(e)+"px pixeloid-bold"},t.prototype.setContextFont=function(e){this.context.font=this.transformViewportToCanvas(e)+"px pixeloid"},t}(i),f=function(){function e(e){this.now=Date.now(),this.then=this.now,this.delta=0,this.interval=e}return e.prototype.advance=function(){return this.now=Date.now(),this.delta=this.now-this.then,this.delta>this.interval&&(this.then=this.now,!0)},e}(),_=function(){function e(e,t){this.target={x:e,y:t},this.position={x:e,y:t},this.speed=0,this.orientation=1}return e.prototype.setPos=function(e,t){this.position.x=e,this.position.y=t},e.prototype.setTarget=function(e,t){this.target.x=e,this.target.y=t},e.prototype.advanceToTarget=function(e){var t=this.target.x-this.position.x,n=this.target.y-this.position.y,o=Math.sqrt(t*t+n*n);o<this.speed*e?(this.position.x=this.target.x,this.position.y=this.target.y):o>0&&(this.position.x+=t/o*this.speed*e,this.position.y+=n/o*this.speed*e)},e}(),m=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),g=[{id:1,speciesId:"anfi_atacama",name:"Anfípodo gigante de Atacama",speciesScientificName:"Eurythenes atacamensis",dataDescription:"Los Anfípodos son de los crustáceos más diversos y abundantes que existen. Además, se encuentran en casi todos los ambientes, desde la superficie del mar hasta las extremas condiciones del océano ultra profundo. Lo increíble es que allí, en lo más profundo, estos custáceos son gigantes (entre 8 a 10 cm). Eurythenes atacamensis es el anfípodo que habita únicamente en la Fosa de Atacama.",width:140,radius:140,textOffsetY:-50,minDepth:7e3,maxDepth:8e3},{id:2,speciesId:"anoplogaster_cornuta",name:"Pez con colmillos largos",speciesScientificName:"Anoplogaster cornuta",dataDescription:"Comúnmente llamado “pez colmilludo”, este pez abisal, que se encuentra entre los 500 y 5000 m de profundidad, se caracteriza por su gran cabeza y tener el cuerpo de color marrón muy oscuro, casi negro. Cuando son adultos se convierten en temibles depredadores, cuyos grandes, afilados y terroríficos dientes impiden que escapen las presas capturadas. Se alimentan de crustáceos cuando son jóvenes y de otros  peces cuando son adultos.",width:140,radius:140,textOffsetY:-50,minDepth:200,maxDepth:2e3},{id:3,speciesId:"argyropelecus_hemigymnus",name:"Pez hacha ganchudo",speciesScientificName:"Argyropelecus hemigymnus",dataDescription:"Este pez del océano profundo es comúnmente llamado pez hacha debido a la forma de su cuerpo, tiene los ojos dirigidos hacia arriba y posee, en la parte inferior del cuerpo, órganos bioluminiscentes. Debido a sus grandes ojos, son excelentes rastreadores de comida en la vastedad del océano profundo, constituyendo una de las herramientas principales de la supervivencia de esta especie. Se encuentra en aguas tropicales y subtropicales de todos los océanos, así como en el mar Mediterráneo.",width:80,radius:80,textOffsetY:-50,minDepth:0,maxDepth:1e3},{id:4,speciesId:"calamar_luciernaga",name:"Calamar luciérnaga",speciesScientificName:"Watasenia scintillans",width:100,radius:100,textOffsetY:-50,minDepth:0,maxDepth:1e3},{id:5,speciesId:"calamar_vampiro",name:"Calamar vampiro",speciesScientificName:"Vampyroteuthis infernalis",dataDescription:"El calamar vampiro es un molusco cefalópodo, único especimen del orden Vampyromorphida. Tiene un cuerpo gelatinoso, con colores que van de negro intenso a rojizo. Estos rasgos, así como su manto que parece capa y sus ojos rojos, le dieron su peculiar nombre. Está adaptado a vivir en zonas con muy poco contenido de oxígeno.",width:200,radius:100,textOffsetY:-70,minDepth:2e3,maxDepth:6e3},{id:6,speciesId:"caulophryne_jordani",name:"Caulofrino con aletas de abanico",speciesScientificName:"Caulophryne jordani",width:160,radius:100,textOffsetY:-50,minDepth:2e3,maxDepth:6e3},{id:7,speciesId:"chauliodus_sloani",name:"Pez víbora de Sloane",speciesScientificName:"Chauliodus sloani",width:140,radius:100,textOffsetY:-50,minDepth:5e3,maxDepth:7e3},{id:8,speciesId:"chiasmodon_subniger",name:"Engullidor negro",speciesScientificName:"Chiasmodon subniger",dataDescription:"Estos peces viven en todo el mundo y llegan hasta los 4.600 m de profundidad. Se conocen como tragadores o engullidores porque son capaces de capturar presas más grandes que sus propios cuerpos, los que pueden guardar en su estómago. Por lo mismo, el estómago crece según el tamaño de la presa que comió, al expandirse se pone transparente y es posible observar desde el exterior al animal que lleva dentro.",width:120,radius:120,textOffsetY:-50,minDepth:3e3,maxDepth:7e3},{id:9,speciesId:"coryphaenoides_spp",name:"Pez cola de rata",speciesScientificName:"Coryphaenoides",dataDescription:"Los granaderos o “colas de rata” son peces marinos generalmente grandes, de color café a negro, muy abundantes. Tienen cabezas grandes con bocas y ojos grandes, pero sus cuerpos son delgados y se van estrechando hasta formar colas muy delgadas. Esta cola parecida a la de una rata explica el nombre común “cola de rata”. Algunos poseen órganos productores de luz llamados fotóforos, es decir, pueden producir su propia luz.",width:120,radius:120,textOffsetY:-50,minDepth:2e3,maxDepth:6e3},{id:10,speciesId:"cryptopsaras_couesii",name:"Demonio marino de triple verruga",speciesScientificName:"Cryptopsaras couesii",width:200,radius:100,textOffsetY:-50,minDepth:5e3,maxDepth:7e3},{id:11,speciesId:"enypniastes_eximia",name:"Pepino de mar nadador",speciesScientificName:"Enypniastes eximia",dataDescription:'Este curioso espécimen, pariente de las estrellas de mar y los erizos, fue encontrado por científicos australianos y lo bautizaron como el "monstruo de pollo sin cabeza". Es transparente, gelatinoso y bioluminiscente. Es una extraña criatura que hoy navega por las profundidades del mar cerca de la Antártica.',width:80,radius:100,textOffsetY:-50,minDepth:4e3,maxDepth:6e3},{id:12,speciesId:"japetella_diaphana",name:"Pulpo japetella",speciesScientificName:"Japetella diaphana",dataDescription:"Japetella diaphana es una especie de pulpo de aguas medias, que vive en\nzonas de poco oxígeno en regiones tropicales y subtropicales del océano.\nTiene un anillo amarillo bioluminiscente que comienza en la base de sus\ntentáculos. Sus brazos son muy cortos y su longitud total es de alrededor de\n12 cm. Puede cambiar su color desde naranja-café a volverse casi\ncompletamente transparente. Este pulpo nunca toca el fondo marino, vive\ntoda su vida en la columna de agua.",width:60,radius:60,textOffsetY:-50,minDepth:0,maxDepth:2e3},{id:13,speciesId:"macropinna_microstoma",name:"Pez duende",speciesScientificName:"Macropinna microstoma",width:140,radius:120,textOffsetY:-50,minDepth:1e3,maxDepth:6e3},{id:14,speciesId:"medusa_bioluminiscente",name:"Medusa bioluminiscente",speciesScientificName:"Crossota sp",dataDescription:"Estas pequeñas medusas que habitan en el océano profundo son bioluminiscentes, es decir que pueden producir su propia luz, la que les sirve como medio de defensa o advertencia a otras criaturas, y así evitar a los depredadores. Se caracterizan por tener un borde similar a un paraguas con largos, delgados y numerosos tentáculos.",width:80,radius:100,textOffsetY:-50,minDepth:3e3,maxDepth:6e3},{id:15,speciesId:"paraliparis_selti",name:"Pez caracol azul de Atacama",speciesScientificName:"Paraliparis selti",dataDescription:"Es una especie de pez baboso (de la familia Liparidae) exclusivo de la Fosa de Atacama y diferente de todas las demás especies de peces conocidos. Tiene ojos grandes y un llamativo color azul. Fue llamado Paraliparis selti. El vocablo “selti” significa “azul” en la lengua kunza o atacameño. Vive en la zonas profundas bajo los 6.000 metros.",width:200,radius:100,textOffsetY:-50,minDepth:6e3,maxDepth:8e3},{id:16,speciesId:"pez_dumbo_pequeño",name:"Pulpo dumbo pequeño",speciesScientificName:"Grimpoteuthis",width:60,radius:60,textOffsetY:-50,minDepth:2e3,maxDepth:6e3},{id:17,speciesId:"pulpo_dumbo_emperador",name:"Pulpo dumbo emperador",speciesScientificName:"Grimpteuthis imperator",dataDescription:"Este molusco fue nombrado como “Pulpo Dumbo” por sus aletas ubicadas en la zona superior del cuerpo, muy parecidas a las orejas voladoras del elefante de Walt Disney. Son criaturas que viven cerca de los fondos oceánicos en las extremas condiciones de las profundidades marinas.",other:{speciesScientificName:"Grimpoteuthis sp"},width:140,radius:180,textOffsetY:-100,minDepth:4e3,maxDepth:6e3}],v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.animationTime=0,t.isNearLander=!1,t}return m(t,e),t.prototype.collide=function(e){var t=this.position.x-e.position.x,n=this.position.y-e.position.y,o=Math.sqrt(t*t+n*n);return this.isNearLander=o<150,!this.caught&&o<this.radius},t.prototype.reset=function(e){this.caught=!1,this.isNearLander=!1,Math.random(),this.animationTime=0,this.position.x=640*Math.random()+0,this.target.x=640*Math.random()+0,this.position.x<this.target.x?this.orientation=1:this.orientation=-1,this.position.y=780,this.target.y=-300;var t=g.filter((function(t){return t.minDepth<=e&&t.maxDepth>=e})),n=t[Math.floor(Math.random()*t.length)];n&&(this.speed=.032*(4*Math.random()+1),this.type=n.id,this.name=n.name,this.width=n.width,this.radius=n.radius,this.textOffsetY=n.textOffsetY)},t.prototype.advance=function(e){this.advanceToTarget(e),this.animationTime+=e},t.prototype.tryToReset=function(e){this.position.x===this.target.x&&this.position.y===this.target.y&&this.reset(e)},t.prototype.horizontalBoundScale=function(){return 1+.1*Math.sin(this.animationTime/150)},t.prototype.verticalBoundScale=function(){return 1+.1*Math.sin(this.animationTime/210)},t}(_),y=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),x=-240,w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return y(t,e),t.prototype.advance=function(e){this.position.y-=this.speed*e,this.position.y<=this.target.y&&this.reset()},t.prototype.reset=function(){this.position.y=720,this.target.y=x,this.speed=.05,this.type=Math.floor(8*Math.random())+1},t}(_),b=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return b(t,e),t.prototype.advance=function(e){var t=this.target.x-this.position.x,n=this.target.y-this.position.y,o=Math.sqrt(t*t+n*n),a=.14222222222222222;this.speed=o/1e3,this.speed<a&&(this.speed=a),this.advanceToTarget(e)},t.prototype.reset=function(){this.position.x=320,this.position.y=90,this.target.x=0,this.target.y=0},t}(_),A=n(196),S=function(){function e(){this.start=0,this.end=0,this.duration=1,this.time=0}return e.prototype.fadeIn=function(e){this.duration=e,this.time=0,this.start=0,this.end=1},e.prototype.constant=function(e){this.duration=e,this.time=0,this.start=1,this.end=1},e.prototype.fadeOut=function(e){this.duration=e,this.time=0,this.start=1,this.end=0},e.prototype.update=function(e){this.time+=e,this.time>=this.duration&&(this.time=this.duration,this.onFinished&&(this.onFinished(),this.onFinished=null))},e.prototype.getValue=function(){var e=this.start+(this.end-this.start)*(this.time/this.duration),t=Math.min(this.start,this.end),n=Math.max(this.start,this.end);return e<t?e=t:e>n&&(e=n),e},e}(),I=function(){function e(e){this.canvas=e,this.title="",this.subtitle="",this.lerp=new S}return e.prototype.setCanvas=function(e){this.canvas=e},e.prototype.setMessage=function(e,t,n){this.title=e,this.subtitle=t,this.lerp.fadeIn(n)},e.prototype.update=function(e){this.lerp.update(e)},e.prototype.draw=function(e){var t=this.lerp.getValue();if(!(t<=0)){var n=this.canvas.context,o=n.globalAlpha;n.globalAlpha=t,n.textAlign="center",this.canvas.context.fillStyle=this.canvas.textColor,this.canvas.setContextFontBold(30),this.canvas.drawText(this.title,320,240),this.canvas.setContextFont(20),this.canvas.drawText(this.subtitle,320,280),n.globalAlpha=o}},e}(),M=function(){function e(e){this.lerp=new S,this.canvas=e,this.color="black"}return e.prototype.setCanvas=function(e){this.canvas=e},e.prototype.fadeIn=function(e,t){this.lerp.fadeIn(t),this.color=e},e.prototype.fadeOut=function(e,t){this.lerp.fadeOut(t),this.color=e},e.prototype.update=function(e){this.lerp.update(e)},e.prototype.draw=function(e){var t=this.lerp.getValue();if(!(t<=0)){var n=this.canvas.context,o=n.globalAlpha;n.globalAlpha=t,n.fillStyle=this.color,n.fillRect(0,0,this.canvas.transformViewportToCanvas(r),this.canvas.transformViewportToCanvas(480)+1),n.globalAlpha=o}},e}(),O=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),C=function(e){function t(t,n){var o=e.call(this,0,0)||this;return o.position.x=0,o.speed=.05,o}return O(t,e),t.prototype.update=function(e){this.position.y-=this.speed*e},t.prototype.reset=function(){this.speed=.05},t.prototype.draw=function(e,t){var n=e.imageManager.getImage("bottom");if(0!==n.width)for(var o=0;o<r;)e.drawImage(n,o,this.position.y,2*n.width,2*n.height),o+=2*n.width},t}(_),k=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),E=function(e){function t(){var t=e.call(this,0,0)||this;return t.available=!0,t.lerp=new S,t}return k(t,e),t.prototype.setExplosion=function(e,t){this.position.x=e,this.position.y=t,this.available=!1,this.lerp.fadeOut(500)},t.prototype.update=function(e){this.lerp.update(e),this.lerp.getValue()<=0&&(this.available=!0)},t.prototype.draw=function(e,t){if(!this.available){var n=this.lerp.getValue();if(!(n<=0)){var o=e.context,a=o.globalAlpha;o.globalAlpha=n;var r=e.imageManager.getImage("explosion"),i=e.transformViewportToCanvas(r.width),s=e.transformViewportToCanvas(r.height),u=e.context.getTransform();e.context.translate(e.transformViewportToCanvas(this.position.x),e.transformViewportToCanvas(this.position.y)),e.context.scale(1-n,1-n),e.drawImage(r,-i/2,-s/2,i,s),e.context.setTransform(u),o.globalAlpha=a}}},t}(_);!function(e){e[e.TITLE=0]="TITLE",e[e.GAME=1]="GAME",e[e.RESUME=2]="RESUME"}(l||(l={}));var D=8081,P=function(){function t(t,n){this.zones=[{depth:200,title:"Zona mesopelágica",subtitle:"200 - 1.000 metros",music:0,background:0},{depth:1e3,title:"Zona batial",subtitle:"1.000 - 4.000 metros",music:2,background:2},{depth:4e3,title:"Zona abisal",subtitle:"4.000 - 6.000 metros",music:3,background:3},{depth:6e3,title:"Zona hadal",subtitle:"6.000 metros y más allá",music:4,background:4},{depth:D,title:"Fin del juego",subtitle:"",music:0,background:0}],this.currentZone=null,this.values=new e,this.gameState=l.TITLE,this.canvas=new h(t,n),this.actTimer=new f(0),this.drawTimer=new f(15),this.lander=new T(0,0),this.enemies=[],this.walls=[],this.currentPlayData={points:[],events:[],score:0},this.layerSong={},this.bottom=new C(0,580),this.explosionList=[],this.readyToExit=!1;for(var o=720;o>x;o-=70)(a=new w(0,0)).reset(),a.position.y=o,this.walls.push(a);for(o=720;o>x;o-=70){var a;(a=new w(r,0)).reset(),a.position.y=o,this.walls.push(a)}this.cursor={x:0,y:0},this.init()}return t.prototype.mount=function(e){this.canvas.mount(e)},t.prototype.unmount=function(){this.canvas.unmount()},t.prototype.advance=function(){var e=this;this.actTimer.advance(),this.frontOverlay.update(this.drawTimer.delta),this.backOverlay.update(this.drawTimer.delta),this.zoneMessage.update(this.actTimer.delta);var t=this.actTimer.delta;if(this.gameState!==l.RESUME)for(var n=0,o=this.walls;n<o.length;n++)o[n].advance(t);if(this.gameState!==l.TITLE){for(var a=0,r=this.enemies;a<r.length;a++)(h=r[a]).advance(t),this.gameState===l.GAME&&h.tryToReset(this.values.currentDistance);for(var i=0,s=this.explosionList;i<s.length;i++)s[i].update(t)}if(this.gameState==l.GAME){var u,c;this.values.currentTime+=this.actTimer.delta,this.lander.setTarget(this.cursor.x,this.cursor.y),this.values.updateDistanceByTimeElapsed(t),this.lander.advance(t),this.values.currentDistance+200>D&&this.bottom.update(t),this.aboutToFade&&this.currentZone.depth-120<this.values.currentDistance&&(this.aboutToFade=!1,0!==(c=this.currentZone.background)&&this.backOverlay.fadeIn("purple",5e3),0!==(u=this.currentZone.music)&&this.setMusic(this.layerExitSound)),this.currentZone.depth<this.values.currentDistance&&(this.radarSound.play(),this.zoneMessage.lerp.onFinished=function(){e.zoneMessage.lerp.fadeOut(3e3)},this.zoneMessage.title=this.currentZone.title,this.zoneMessage.subtitle=this.currentZone.subtitle,this.zoneMessage.lerp.constant(2e3),this.zones.indexOf(this.currentZone)===this.zones.length-1?this.setGameOver():(0!==(u=this.currentZone.music)&&this.setMusic(this.layerSong[u]),0!==(c=this.currentZone.background)&&(this.backOverlay.fadeOut("purple",3e3),this.canvas.currentBackground="background_"+c),this.currentZone=this.zones[this.zones.indexOf(this.currentZone)+1],this.aboutToFade=!0));for(var d=0,p=this.enemies;d<p.length;d++){var h;(h=p[d]).collide(this.lander)&&(this.currentPlayData.events.push({t:this.values.currentTime,type:"hit_enemy"}),this.addExplosion(h.position.x,h.position.y),this.values.currentScore+=1,this.hitSound.play(),h.caught=!0)}}else this.gameState==l.RESUME&&(this.lander.setTarget(320,140),this.lander.advance(t))},t.prototype.addExplosion=function(e,t){for(var n=0,o=this.explosionList;n<o.length;n++){var a=o[n];if(a.available)return void a.setExplosion(e,t)}var r=new E;r.setExplosion(e,t),this.explosionList.push(r)},t.prototype.draw=function(){if(this.drawTimer.advance()){this.canvas.clearScreen(),this.backOverlay.draw(this.drawTimer.delta);for(var e=0,t=this.walls;e<t.length;e++){var n=t[e];this.canvas.drawWall(n)}if(this.gameState!==l.TITLE&&this.bottom.draw(this.canvas,this.drawTimer.delta),this.gameState!==l.TITLE){for(var o=0,a=this.enemies;o<a.length;o++){var r=a[o];this.canvas.drawEnemy(r)}for(var i=0,s=this.explosionList;i<s.length;i++)s[i].draw(this.canvas,this.drawTimer.delta)}this.gameState==l.GAME?(this.canvas.drawInfo(this.values.currentDistance,this.values.currentScore),this.frontOverlay.draw(this.actTimer.delta),this.canvas.drawLander(this.lander),this.canvas.drawCursor(this.cursor.x,this.cursor.y),this.zoneMessage.draw(this.values.currentDistance)):this.gameState==l.RESUME?(this.canvas.drawInfo(this.values.currentDistance,this.values.currentScore),this.canvas.drawLander(this.lander),this.canvas.drawGameOverMessage(this.values.currentDistance,this.values.currentScore,this.values.currentDistance>D,this.readyToExit)):this.gameState==l.TITLE&&(this.canvas.drawTitleInfo(),this.frontOverlay.draw(this.actTimer.delta),this.zoneMessage.draw(this.actTimer.delta),this.canvas.drawLander(this.lander))}},t.prototype.moveTo=function(e,t){this.cursor.x=e,this.cursor.y=t},t.prototype.init=function(){var e=this;setInterval((function(){e.advance()}),10);var t=window.requestAnimationFrame;t((function n(){t(n),e.draw()})),this.zoneMessage=new I(this.canvas),this.backOverlay=new M(this.canvas),this.frontOverlay=new M(this.canvas),this.initSounds(),this.setGameTitle()},t.prototype.initSounds=function(){this.titleSong=new A.Howl({src:[n(118)],volume:.5,loop:!0,html5:!0}),this.radarSound=new A.Howl({src:[n(209)],volume:.5}),this.layerSong[1]=new A.Howl({src:[n(719)],volume:.5,loop:!0,html5:!0}),this.layerSong[2]=new A.Howl({src:[n(276)],volume:.5,loop:!0,html5:!0}),this.layerSong[3]=new A.Howl({src:[n(705)],volume:.5,loop:!0,html5:!0}),this.layerSong[4]=new A.Howl({src:[n(174)],volume:.5,loop:!0,html5:!0}),this.layerExitSound=new A.Howl({src:[n(4)],volume:.5}),this.hitSound=new A.Howl({src:[n(830)],volume:.5}),this.winSound=new A.Howl({src:[n(506)],volume:.5})},t.prototype.pressButton=function(){this.gameState===l.RESUME?this.readyToExit&&window.top.postMessage({type:"quit"},"*"):this.gameState===l.GAME?this.setGameOver():this.triggerGameStart()},t.prototype.triggerGameStart=function(){var e=this;!1===this.gameStarTriggered&&(this.gameStarTriggered=!0,this.frontOverlay.lerp.onFinished=function(){setTimeout((function(){e.setGameStart()}),2e3),e.zoneMessage.title="Fosa de Atacama",e.zoneMessage.subtitle="Travesía al inframundo",e.zoneMessage.lerp.fadeIn(1e3)},this.frontOverlay.fadeIn("black",1e3))},t.prototype.setGameOver=function(){var e=this;this.winSound.play(),this.gameState=l.RESUME,this.currentPlayData.events.push({t:this.values.currentTime,type:"end"}),setTimeout((function(){window.top.postMessage({type:"resume",data:e.currentPlayData},"*"),e.readyToExit=!0}),5e3)},t.prototype.setGameStart=function(){this.currentPlayData={points:[],events:[],score:0},this.enemies=[];for(var e=0;e<5;e++){var t=new v(0,0);t.reset(0),t.position.y+=100*e,this.enemies.push(t)}this.frontOverlay.fadeOut("black",3e3),this.zoneMessage.lerp.fadeOut(3e3),this.currentZone=this.zones[0],this.canvas.currentBackground="background_1",this.setMusic(this.layerSong[1]),this.aboutToFade=!0,this.values.totalDistance=8081,this.bottom.position.y=580,this.values.currentTime=0,this.values.currentScore=0,this.gameState=l.GAME},t.prototype.setGameTitle=function(){this.lander.reset(),this.canvas.currentBackground="background_2",this.gameStarTriggered=!1,this.gameState=l.TITLE,this.setMusic(this.titleSong)},t.prototype.startListeningIframeMessages=function(){var e=this;window.addEventListener("message",(function(t){if("cursor"===t.data.type){e.gameState===l.GAME&&e.currentPlayData.points.push({x:Math.round(t.data.x),y:Math.round(t.data.y),t:e.values.currentTime});var n=e.canvas.positionNormalizer.fromEventToCanvas(t.data.x,t.data.y),o=e.canvas.fromCanvasToWorldPosition(n);e.cursor=o}else"press"===t.data.type?e.pressButton():"setup"===t.data.type&&(e.canvas.positionNormalizer.eventOffsetX=t.data.offsetX,e.canvas.positionNormalizer.eventOffsetY=t.data.offsetY,e.canvas.positionNormalizer.eventWidth=t.data.width,e.canvas.positionNormalizer.eventHeight=t.data.height)}))},t.prototype.setMusic=function(e){this.currentMusic!==e&&(void 0!==this.currentMusic&&this.currentMusic.stop(),this.currentMusic=e,this.currentMusic.play())},t}()})(),Audacia=o})();